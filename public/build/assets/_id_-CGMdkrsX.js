import{i as C,u as D,bi as g,Y as _,c as i,l as d,o as r,b as t,e,ah as v,s as c,_ as V,d as n,F as B,h as R,t as x}from"./main-BEYAFsWY.js";import{u as T}from"./useApi-DL_wWqQ9.js";import{c as A}from"./createUrl-CNJYluNR.js";import{a as l,V as L}from"./VRow-DhucUJ_c.js";import{V as w}from"./VCard-DAB_Bu5L.js";import{V as y}from"./VCardText-BoDvIV3o.js";import{V as N}from"./VTable-ldYwifqa.js";import"./index-CvOPxmL5.js";import"./VAvatar-B5UblNHH.js";const q={key:0},F={colspan:"5"},I={colspan:"1"},U={key:1},j="incident",O={__name:"[id]",async setup(E){let o,m;const b=C(),p=D(),{data:u}=([o,m]=g(()=>T(A(`/incident/${p.params.id}`,{query:{with_location:"true",with_user:"true"}}))),o=await o,m(),o);u.value.status!==200&&b.push({name:"incident"});const s=_(()=>u.value.data.Incident),h=_(()=>[{title:"Titre",value:s.value?.title},{title:"Date de l'incident",value:s.value?.occurred_at_fr},{title:"Localisation",value:s.value?.location?.name},{title:"Description",value:s.value?.description},{title:"Personnes impliquées",value:s.value?.people_involved},{title:"Actions prises",value:s.value?.actions_taken},{title:"Utilisateur",value:s.value?.user?.full_name}]);return(M,a)=>d(u)?(r(),i("section",q,[t(L,null,{default:e(()=>[t(l,{cols:"12"},{default:e(()=>[t(w,null,{default:e(()=>[t(y,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row text-lg"},{default:e(()=>[t(l,{cols:"10"},{default:e(()=>[t(v,{to:{name:j}},{default:e(()=>[t(V,{start:"",icon:"tabler-arrow-left"}),a[0]||(a[0]=c(" Liste des incidents ",-1))]),_:1},8,["to"])]),_:1}),t(l,{cols:"2",class:"text-right"},{default:e(()=>[t(v,{to:{name:"incident-edit-id",params:{id:d(p).params.id}},color:"primary"},{default:e(()=>[a[1]||(a[1]=c(" Modifier ",-1)),t(V,{end:"",icon:"tabler-edit"})]),_:1},8,["to"])]),_:1}),t(l,{cols:"12"},{default:e(()=>[...a[2]||(a[2]=[n("h2",null,"Détails:",-1)])]),_:1}),t(l,{cols:"12"},{default:e(()=>[t(N,{class:"text-no-wrap"},{default:e(()=>[n("tbody",null,[(r(!0),i(B,null,R(d(h),(f,k)=>(r(),i("tr",{key:k},[n("td",F,x(f.title),1),n("td",I,x(f.value??"-"),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):(r(),i("section",U,[t(w,null,{default:e(()=>[t(y,null,{default:e(()=>[...a[3]||(a[3]=[c(" Chargement... ",-1)])]),_:1})]),_:1})]))}};export{O as default};
