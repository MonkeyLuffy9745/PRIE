import{_ as p}from"./AppDateTimePicker-Bt5bw6tg.js";import{_ as k}from"./TiptapEditor-DOeDfFDI.js";import{r as E}from"./validators-DpYrMFzk.js";import{V as w}from"./VTextField-BzLGB-co.js";import{V as F}from"./VTextarea-DciDp74g.js";import{V as h}from"./VAutocomplete-akOlU6OV.js";import{V as R}from"./VSwitch-DLSIbHZW.js";import{V as U}from"./VFileInput-B00mRcAE.js";import{Y as V,c as r,o as s,k as n,b as m}from"./main-BZyHWxP-.js";const N={key:0},j={key:1},A={key:2},C={key:3},T={key:4},q={key:5},B={key:6},z={__name:"FieldRenderer",props:{field:{type:Object,required:!0},modelValue:{type:[String,Number,Boolean,Array,Object],default:null},validationRules:{type:Array,default:()=>[]},context:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:v}){const i=e,c=v,o=V({get:()=>i.modelValue,set:l=>c("update:modelValue",l)}),b=l=>{if(!l||!l[0])return!0;const t=[".mp4",".avi",".mov",".wmv",".webm"],u=l[0].name||"";return t.some(a=>u.toLowerCase().endsWith(a))||"Format vidéo non supporté"},y=l=>{if(!l||!l[0])return!0;const t=[".mp3",".wav",".m4a",".aac"],u=l[0].name||"";return t.some(a=>u.toLowerCase().endsWith(a))||"Format audio non supporté"},g=l=>{if(!l||!l[0])return!0;const t=[".jpg",".jpeg",".png",".gif",".webp",".bmp"],u=l[0].name||"";return t.some(a=>u.toLowerCase().endsWith(a))||"Format d'image non supporté pour la couverture"},x=()=>{const l=i.field.required?[E]:[];return i.field.value_key==="file"&&i.context.type==="video"?[...l,b]:i.field.value_key==="file"&&i.context.type==="audio"?[...l,y]:i.field.value_key==="cover_path"&&i.context.type==="video"?[...l,g]:l},d=V(()=>{const l=x();return[...i.validationRules,...l]});return(l,t)=>{const u=k,f=p;return s(),r("div",null,[e.field.type==="text"||e.field.type==="number"||e.field.type==="email"?(s(),r("div",N,[m(w,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),type:e.field.type,"error-messages":e.field.errors,label:e.field.label,rules:d.value},null,8,["modelValue","type","error-messages","label","rules"])])):n("",!0),e.field.type==="textarea"?(s(),r("div",j,[m(F,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value=a),"error-messages":e.field.errors,label:e.field.label,rules:d.value},null,8,["modelValue","error-messages","label","rules"])])):n("",!0),e.field.type==="tiptap"?(s(),r("div",A,[m(u,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),class:"border rounded basic-editor","error-messages":e.field.errors,rows:"20",label:e.field.label,rules:d.value,placeholder:e.field.label},null,8,["modelValue","error-messages","label","rules","placeholder"])])):n("",!0),e.field.type==="date"?(s(),r("div",C,[m(f,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value=a),"error-messages":e.field.errors,label:e.field.label,config:{dateFormat:"Y-m-d"},rules:d.value},null,8,["modelValue","error-messages","label","rules"])])):n("",!0),e.field.type==="lov"?(s(),r("div",T,[m(h,{modelValue:o.value,"onUpdate:modelValue":t[4]||(t[4]=a=>o.value=a),"error-messages":e.field.errors,items:e.field.data.list.items,"item-title":e.field.data.list.name??"name","item-value":e.field.data.list.id??"id",label:e.field.label,rules:d.value,clearable:e.field.clearable??!1,multiple:e.field.data.list.multiple??!1},null,8,["modelValue","error-messages","items","item-title","item-value","label","rules","clearable","multiple"])])):n("",!0),e.field.type==="boolean"?(s(),r("div",q,[m(R,{modelValue:o.value,"onUpdate:modelValue":t[5]||(t[5]=a=>o.value=a),label:e.field.label,"error-messages":e.field.errors,"true-value":1,"false-value":0,rules:d.value},null,8,["modelValue","label","error-messages","rules"])])):n("",!0),e.field.type==="file"?(s(),r("div",B,[m(U,{modelValue:o.value,"onUpdate:modelValue":t[6]||(t[6]=a=>o.value=a),label:e.field.label,"error-messages":e.field.errors,rules:d.value},null,8,["modelValue","label","error-messages","rules"])])):n("",!0)])}}};export{z as _};
