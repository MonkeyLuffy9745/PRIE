import{c as J,a as K,b as M,d as Q,u as U,p as X,e as $,f as ee,g as ae,h as te,i as oe,j as se,k as P,l as f,m as y,n as le,o as re,q as de}from"./VDataTable-DEOUo1va.js";import{au as ue,a1 as ne,cL as ie,Y as m,Z as o,aP as ce,a6 as me,b as l,p as h,d as n,F as D,N as ge}from"./main-B_3U4rnL.js";import{V as S}from"./VTable-B6Lp1lU8.js";import{V as ve}from"./VDivider-CHuFBZ5S.js";const be=ne({itemsLength:{type:[Number,String],required:!0},...de(),...re(),...le()},"VDataTableServer"),he=ue()({name:"VDataTableServer",props:be(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,T){let{attrs:V,slots:a}=T;const{groupBy:r}=J(e),{sortBy:s,multiSort:x,mustSort:w}=K(e),{page:d,itemsPerPage:i}=M(e),{disableSort:B}=ie(e),I=m(()=>parseInt(e.itemsLength,10)),{columns:g,headers:k}=Q(e,{groupBy:r,showSelect:o(()=>e.showSelect),showExpand:o(()=>e.showExpand)}),{items:u}=U(e,g),{toggleSort:v}=se({sortBy:s,multiSort:x,mustSort:w,page:d}),{opened:F,isGroupOpen:R,toggleGroup:G,extractRows:H}=X({groupBy:r,sortBy:s,disableSort:B}),{pageCount:N,setItemsPerPage:E}=$({page:d,itemsPerPage:i,itemsLength:I}),{flatItems:b}=ee(u,r,F,()=>!!a["group-summary"]),{isSelected:L,select:_,selectAll:C,toggleSelect:q,someSelected:O,allSelected:j}=ae(e,{allItems:u,currentPage:u}),{isExpanded:A,toggleExpand:W}=te(e),p=m(()=>H(u.value));oe({page:d,itemsPerPage:i,sortBy:s,groupBy:r,search:o(()=>e.search)}),ge("v-data-table",{toggleSort:v,sortBy:s}),ce({VDataTableRows:{hideNoData:o(()=>e.hideNoData),noDataText:o(()=>e.noDataText),loading:o(()=>e.loading),loadingText:o(()=>e.loadingText)}});const t=m(()=>({page:d.value,itemsPerPage:i.value,sortBy:s.value,pageCount:N.value,toggleSort:v,setItemsPerPage:E,someSelected:O.value,allSelected:j.value,isSelected:L,select:_,selectAll:C,toggleSelect:q,isExpanded:A,toggleExpand:W,isGroupOpen:R,toggleGroup:G,items:p.value.map(c=>c.raw),internalItems:p.value,groupedItems:b.value,columns:g.value,headers:k.value}));me(()=>{const c=P.filterProps(e),Y=f.filterProps(e),Z=y.filterProps(e),z=S.filterProps(e);return l(S,h({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(t.value),default:()=>a.default?a.default(t.value):n(D,null,[a.colgroup?.(t.value),!e.hideDefaultHeader&&n("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[l(f,Y,a)]),a.thead?.(t.value),!e.hideDefaultBody&&n("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(t.value),a.body?a.body(t.value):l(y,h(V,Z,{items:b.value}),a),a["body.append"]?.(t.value)]),a.tbody?.(t.value),a.tfoot?.(t.value)]),bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&n(D,null,[l(ve,null,null),l(P,c,{prepend:a["footer.prepend"]})])})})}});export{he as V};
