import{a as E,f as se,b as ae}from"./formatters-Cw2xOObF.js";import{bn as oe,a as R,c as b,k as A,l as e,o as d,d as s,b as t,e as i,_ as f,v as S,f as _,b9 as B,t as C,ah as L,s as N,F as I,Y as F,bo as le,b1 as w,I as H,h as O,J as Y,r as U,bp as ne,bl as ie,w as re,aS as ce,bq as K,V as de,ba as ue,b7 as Q}from"./main-B6snbbeR.js";import{C as q}from"./vue3-perfect-scrollbar-DtQxLb6n.js";import{u as me}from"./useApi-BmrklLGP.js";import{c as he}from"./createUrl-BOgyWoU4.js";import{$ as W}from"./api-BSnM5f-O.js";import{V as T}from"./VAvatar-DkcJ3saq.js";import{V as z}from"./VBadge-BBntfJMU.js";import{_ as fe}from"./AppTextField-Dwj4zAS-.js";import{V as G}from"./VDivider-BP2GefMD.js";import{_ as pe}from"./AppTextarea-2BMk-Shp.js";import{V as ve,a as be}from"./VRadioGroup-GS1YnwSj.js";import{V as X}from"./VSwitch-GlrZJ8XQ.js";import{u as xe,a as ge,V as Ce}from"./VMain-CxAFVBHm.js";import{V as j}from"./VNavigationDrawer-C12geeEY.js";import{V as ye}from"./VForm-CizDvvzm.js";import{V as _e}from"./VTextField-DR58sDH5.js";import"./helpers-DK5QwNv0.js";import"./index-CvOPxmL5.js";import"./VTextarea-B7hS5bD5.js";import"./autofocus-BfAo_r6c.js";import"./VCounter-x5LZ_YaQ.js";import"./VField-CXJI-EvL.js";import"./VSelectionControl-B5OrGKrL.js";import"./ssrBoot-C-ymkyqZ.js";const P=()=>({resolveAvatarBadgeVariant:n=>n==="online"?"success":n==="busy"?"error":n==="away"?"warning":"secondary"}),D=oe("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(y){const{data:n,error:a}=await me(he("/apps/chat/chats-and-contacts",{query:{q:y}}));if(a.value)console.log(a.value);else{const{chatsContacts:u,contacts:v,profileUser:o}=n.value;this.chatsContacts=u,this.contacts=v,this.profileUser=o}},async getChat(y){const n=await W(`/apps/chat/chats/${y}`);this.activeChat=n},async sendMsg(y){const n=this.profileUser?.id,a=await W(`apps/chat/chats/${this.activeChat?.contact.id}`,{method:"POST",body:{message:y,senderId:n}}),{msg:u,chat:v}=a;if(v!==void 0){const h=this.activeChat;this.chatsContacts.push({...h.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[u],unseenMsgs:0,userId:this.activeChat?.contact.id})}else this.activeChat?.chat?.messages.push(u);const o=this.chatsContacts.find(h=>this.activeChat?h.id===this.activeChat.contact.id:!1);o.chat.lastMessage=u}}}),$e={class:"text-center px-6"},ke={key:1,class:"text-3xl"},Ve={class:"text-h5"},we={class:"text-capitalize text-body-1 mb-0"},Ue={class:"my-6"},Ie={class:"mt-1 mb-6"},Se={class:"mb-6"},Ae={class:"d-flex align-center text-high-emphasis pa-2"},Te={class:"d-flex align-center text-high-emphasis pa-2"},ze={class:"d-flex align-center text-high-emphasis pa-2"},Be={class:"d-flex align-center text-high-emphasis pa-2"},De={class:"d-flex align-center text-high-emphasis pa-2"},Me={class:"d-flex align-center text-high-emphasis pa-2"},Ne={class:"d-flex align-center text-high-emphasis pa-2"},Oe={class:"d-flex align-center text-high-emphasis pa-2"},Pe={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:n}){const a=D(),{resolveAvatarBadgeVariant:u}=P();return(v,o)=>{const h=R("IconBtn");return e(a).activeChat?(d(),b(I,{key:0},[s("div",{class:S(["pt-6 px-6",v.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(h,{onClick:o[0]||(o[0]=r=>v.$emit("close"))},{default:i(()=>[t(f,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),s("div",$e,[t(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(u)(e(a).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:i(()=>[t(T,{size:"84",variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(u)(e(a).activeChat.contact.status)},{default:i(()=>[e(a).activeChat.contact.avatar?(d(),_(B,{key:0,src:e(a).activeChat.contact.avatar},null,8,["src"])):(d(),b("span",ke,C(("avatarText"in v?v.avatarText:e(E))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",Ve,C(e(a).activeChat.contact.fullName),1),s("p",we,C(e(a).activeChat.contact.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:i(()=>[s("div",Ue,[o[1]||(o[1]=s("div",{class:"text-sm text-disabled"}," ABOUT ",-1)),s("p",Ie,C(e(a).activeChat.contact.about),1)]),s("div",Se,[o[5]||(o[5]=s("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),s("div",Ae,[t(f,{class:"me-2",icon:"tabler-mail",size:"22"}),o[2]||(o[2]=s("div",{class:"text-base"}," lucifer@email.com ",-1))]),s("div",Te,[t(f,{class:"me-2",icon:"tabler-phone",size:"22"}),o[3]||(o[3]=s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1))]),s("div",ze,[t(f,{class:"me-2",icon:"tabler-clock",size:"22"}),o[4]||(o[4]=s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1))])]),s("div",null,[o[12]||(o[12]=s("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1)),s("div",Be,[t(f,{class:"me-2",icon:"tabler-badge",size:"22"}),o[6]||(o[6]=s("div",{class:"text-base"}," Add Tag ",-1))]),s("div",De,[t(f,{class:"me-2",icon:"tabler-star",size:"22"}),o[7]||(o[7]=s("div",{class:"text-base"}," Important Contact ",-1))]),s("div",Me,[t(f,{class:"me-2",icon:"tabler-photo",size:"22"}),o[8]||(o[8]=s("div",{class:"text-base"}," Shared Media ",-1))]),s("div",Ne,[t(f,{class:"me-2",icon:"tabler-trash",size:"22"}),o[9]||(o[9]=s("div",{class:"text-base"}," Delete Contact ",-1))]),s("div",Oe,[t(f,{icon:"tabler-ban",class:"me-2",size:"22"}),o[10]||(o[10]=s("div",{class:"text-base"}," Block Contact ",-1))]),t(L,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:i(()=>[...o[11]||(o[11]=[N(" Delete Contact ",-1)])]),_:1})])]),_:1})],64)):A("",!0)}}},Le={key:1},Fe={class:"flex-grow-1 ms-4 overflow-hidden"},Ee={class:"text-base text-high-emphasis mb-0"},Re={class:"mb-0 text-truncate text-body-2"},qe={key:0,class:"d-flex flex-column align-self-start"},je={class:"text-body-2 text-disabled whitespace-no-wrap"},Z={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(y){const n=y,a=D(),{resolveAvatarBadgeVariant:u}=P(),v=F(()=>{const o=a.activeChat?.contact.id===n.user.id;return(n.isChatContact||!a.activeChat?.chat)&&o});return(o,h)=>(d(),b("li",{key:e(a).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(v)}])},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(u)(n.user.status),bordered:"","model-value":n.isChatContact},{default:i(()=>[t(T,{size:"40",variant:n.user.avatar?void 0:"tonal",color:n.user.avatar?void 0:e(u)(n.user.status)},{default:i(()=>[n.user.avatar?(d(),_(B,{key:0,src:n.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),b("span",Le,C(("avatarText"in o?o.avatarText:e(E))(y.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",Fe,[s("p",Ee,C(n.user.fullName),1),s("p",Re,C(n.isChatContact&&"chat"in n.user?n.user.chat.lastMessage.message:n.user.about),1)]),n.isChatContact&&"chat"in n.user?(d(),b("div",qe,[s("div",je,C(("formatDateToMonthShort"in o?o.formatDateToMonthShort:e(se))(n.user.chat.lastMessage.time)),1),n.user.chat.unseenMsgs?(d(),_(z,{key:0,color:"error",inline:"",content:n.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):A("",!0)])):A("",!0)],2))}},Je={key:0,class:"chat-list-header"},He={class:"no-chat-items-text text-disabled"},Ye={class:"no-chat-items-text text-disabled"},Ke={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(y,{emit:n}){const a=y,u=n,{resolveAvatarBadgeVariant:v}=P(),o=le(a,"search",u),h=D();return(r,l)=>{const p=fe,$=R("IconBtn");return d(),b(I,null,[e(h).profileUser?(d(),b("div",Je,[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(h).profileUser.status),bordered:""},{default:i(()=>[t(T,{size:"40",class:"cursor-pointer",onClick:l[0]||(l[0]=m=>r.$emit("showUserProfile"))},{default:i(()=>[t(B,{src:e(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(p,{id:"search",modelValue:e(o),"onUpdate:modelValue":l[1]||(l[1]=m=>w(o)?o.value=m:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),r.$vuetify.display.smAndDown?(d(),_($,{key:0,onClick:l[2]||(l[2]=m=>r.$emit("close"))},{default:i(()=>[t(f,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):A("",!0)])):A("",!0),t(G),t(e(q),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:i(()=>[l[3]||(l[3]=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1)),(d(!0),b(I,null,O(e(h).chatsContacts,m=>(d(),_(Z,{key:`chat-${m.id}`,user:m,"is-chat-contact":"",onClick:V=>r.$emit("openChatOfContact",m.id)},null,8,["user","onClick"]))),128)),H(s("span",He,"No chats found",512),[[Y,!e(h).chatsContacts.length]]),l[4]||(l[4]=s("li",{class:"list-none pt-2"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1)),(d(!0),b(I,null,O(e(h).contacts,m=>(d(),_(Z,{key:`chat-${m.id}`,user:m,onClick:V=>r.$emit("openChatOfContact",m.id)},null,8,["user","onClick"]))),128)),H(s("span",Ye,"No contacts found",512),[[Y,!e(h).contacts.length]])]),_:1})],64)}}},Qe={class:"chat-log pa-6"},We={class:"mb-0 text-base"},Xe={class:"text-sm ms-2 text-disabled"},Ze={__name:"ChatLog",setup(y){const n=D(),a=F(()=>({id:n.activeChat?.contact.id,avatar:n.activeChat?.contact.avatar})),u=o=>o.isSeen?{icon:"tabler-checks",color:"success"}:o.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},v=F(()=>{let o=[];const h=[];if(n.activeChat.chat){o=n.activeChat.chat.messages;let r=o[0].senderId,l={senderId:r,messages:[]};o.forEach((p,$)=>{r===p.senderId?l.messages.push({message:p.message,time:p.time,feedback:p.feedback}):(r=p.senderId,h.push(l),l={senderId:p.senderId,messages:[{message:p.message,time:p.time,feedback:p.feedback}]}),$===o.length-1&&h.push(l)})}return h});return(o,h)=>(d(),b("div",Qe,[(d(!0),b(I,null,O(e(v),(r,l)=>(d(),b("div",{key:r.senderId+String(l),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":r.senderId!==e(a).id,"mb-6":e(v).length-1!==l}]])},[s("div",{class:S(["chat-avatar",r.senderId!==e(a).id?"ms-4":"me-4"])},[t(T,{size:"32"},{default:i(()=>[t(B,{src:r.senderId===e(a).id?e(a).avatar:e(n).profileUser?.avatar},null,8,["src"])]),_:2},1024)],2),s("div",{class:S(["chat-body d-inline-flex flex-column",r.senderId!==e(a).id?"align-end":"align-start"])},[(d(!0),b(I,null,O(r.messages,(p,$)=>(d(),b("div",{key:p.time,class:S(["chat-content py-2 px-4 elevation-2",[r.senderId===e(a).id?"chat-left":"bg-primary text-white chat-right",r.messages.length-1!==$?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",We,C(p.message),1)],2))),128)),s("div",{class:S({"text-right":r.senderId!==e(a).id})},[r.senderId!==e(a).id?(d(),_(f,{key:0,size:"16",color:u(r.messages[r.messages.length-1].feedback).color},{default:i(()=>[N(C(u(r.messages[r.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):A("",!0),s("span",Xe,C(("formatDate"in o?o.formatDate:e(ae))(r.messages[r.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},Ge={class:"pt-2 me-2 text-end"},et={class:"text-center px-6"},tt={key:1,class:"text-3xl"},st={class:"text-h5"},at={class:"text-capitalize text-medium-emphasis mb-0"},ot={class:"my-6 text-medium-emphasis"},lt={class:"mb-6"},nt={class:"text-medium-emphasis chat-settings-section"},it={class:"d-flex align-center pa-2"},rt={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},ct={class:"d-flex align-center pa-2"},dt={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},ut={class:"d-flex align-center pa-2"},mt={class:"d-flex align-center pa-2"},ht={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:n}){const a=D(),{resolveAvatarBadgeVariant:u}=P(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],o=U(!0),h=U(!1);return(r,l)=>{const p=R("IconBtn"),$=pe;return e(a).profileUser?(d(),b(I,{key:0},[s("div",Ge,[t(p,{onClick:l[0]||(l[0]=m=>r.$emit("close"))},{default:i(()=>[t(f,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),s("div",et,[t(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(u)(e(a).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:i(()=>[t(T,{size:"84",variant:e(a).profileUser.avatar?void 0:"tonal",color:e(a).profileUser.avatar?void 0:e(u)(e(a).profileUser.status)},{default:i(()=>[e(a).profileUser.avatar?(d(),_(B,{key:0,src:e(a).profileUser.avatar},null,8,["src"])):(d(),b("span",tt,C(("avatarText"in r?r.avatarText:e(E))(e(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",st,C(e(a).profileUser.fullName),1),s("p",at,C(e(a).profileUser.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:i(()=>[s("div",ot,[l[5]||(l[5]=s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),t($,{id:"textarea-user-about",modelValue:e(a).profileUser.about,"onUpdate:modelValue":l[1]||(l[1]=m=>e(a).profileUser.about=m),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",lt,[l[6]||(l[6]=s("div",{class:"text-base text-disabled"}," STATUS ",-1)),t(ve,{modelValue:e(a).profileUser.status,"onUpdate:modelValue":l[2]||(l[2]=m=>e(a).profileUser.status=m),class:"mt-1"},{default:i(()=>[(d(),b(I,null,O(v,(m,V)=>t(be,{id:`${V}`,key:m.title,name:m.title,label:m.title,value:m.value,color:m.color},null,8,["id","name","label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",nt,[l[11]||(l[11]=s("div",{class:"text-base text-disabled"}," SETTINGS ",-1)),s("div",it,[t(f,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),s("div",rt,[l[7]||(l[7]=s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),t(X,{id:"two-step-verification",modelValue:e(o),"onUpdate:modelValue":l[3]||(l[3]=m=>w(o)?o.value=m:null),density:"compact"},null,8,["modelValue"])])]),s("div",ct,[t(f,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),s("div",dt,[l[8]||(l[8]=s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),t(X,{id:"chat-notification",modelValue:e(h),"onUpdate:modelValue":l[4]||(l[4]=m=>w(h)?h.value=m:null),density:"compact"},null,8,["modelValue"])])]),s("div",ut,[t(f,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),l[9]||(l[9]=s("div",{class:"text-body-1 text-high-emphasis"}," Invite Friends ",-1))]),s("div",mt,[t(f,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),l[10]||(l[10]=s("div",{class:"text-body-1 text-high-emphasis"}," Delete Account ",-1))])]),t(L,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:i(()=>[...l[12]||(l[12]=[N(" Logout ",-1)])]),_:1})]),_:1})],64)):A("",!0)}}},ft={key:0,class:"d-flex flex-column h-100"},pt={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},vt={key:1},bt={class:"flex-grow-1 ms-4 overflow-hidden"},xt={class:"text-h6 mb-0 font-weight-regular"},gt={class:"text-truncate mb-0 text-body-2"},Ct={class:"d-sm-flex align-center d-none text-medium-emphasis"},yt={class:"d-flex gap-1"},_t={class:"d-none d-md-block"},$t={key:1,class:"d-flex h-100 align-center justify-center flex-column"},kt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},Wt={__name:"chat",setup(y){ne(g=>({v5df97900:e(te)}));const n=ie(),a=D(),{isLeftSidebarOpen:u}=xe(n.smAndDown),{resolveAvatarBadgeVariant:v}=P(),o=U(),h=()=>{const g=o.value.$el||o.value;g.scrollTop=g.scrollHeight},r=U("");re(r,g=>a.fetchChatsAndContacts(g),{immediate:!0});const l=()=>{n.mdAndUp.value||(u.value=!0)},p=U(""),$=async()=>{p.value&&(await a.sendMsg(p.value),p.value="",Q(()=>{h()}))},m=async g=>{await a.getChat(g),p.value="";const c=a.chatsContacts.find(k=>k.id===g);c&&(c.chat.unseenMsgs=0),n.smAndDown.value&&(u.value=!1),Q(()=>{h()})},V=U(!1),M=U(!1),J=U(),{name:ee}=ce(),te=F(()=>{let g="transparent";return K&&(g=K?.[ee.value].colors?.background),g});return(g,c)=>{const k=R("IconBtn");return d(),_(Ce,{class:"chat-app-layout",style:{"z-index":"0"}},{default:i(()=>[t(j,{modelValue:e(V),"onUpdate:modelValue":c[1]||(c[1]=x=>w(V)?V.value=x:null),"data-allow-mismatch":"",temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:i(()=>[t(ht,{onClose:c[0]||(c[0]=x=>V.value=!1)})]),_:1},8,["modelValue"]),t(j,{modelValue:e(M),"onUpdate:modelValue":c[3]||(c[3]=x=>w(M)?M.value=x:null),"data-allow-mismatch":"",width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:i(()=>[t(Pe,{onClose:c[2]||(c[2]=x=>M.value=!1)})]),_:1},8,["modelValue"]),t(j,{modelValue:e(u),"onUpdate:modelValue":c[8]||(c[8]=x=>w(u)?u.value=x:null),"data-allow-mismatch":"",absolute:"",touchless:"",location:"start",width:"370",temporary:g.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:g.$vuetify.display.mdAndUp},{default:i(()=>[t(Ke,{"is-drawer-open":e(u),"onUpdate:isDrawerOpen":c[4]||(c[4]=x=>w(u)?u.value=x:null),search:e(r),"onUpdate:search":c[5]||(c[5]=x=>w(r)?r.value=x:null),onOpenChatOfContact:m,onShowUserProfile:c[6]||(c[6]=x=>V.value=!0),onClose:c[7]||(c[7]=x=>u.value=!1)},null,8,["is-drawer-open","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(ge,{class:"chat-content-container"},{default:i(()=>[e(a).activeChat?(d(),b("div",ft,[s("div",pt,[t(k,{class:"d-md-none me-3",onClick:c[9]||(c[9]=x=>u.value=!0)},{default:i(()=>[t(f,{icon:"tabler-menu-2"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:c[10]||(c[10]=x=>M.value=!0)},[t(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:e(v)(e(a).activeChat.contact.status),bordered:""},{default:i(()=>[t(T,{size:"40",variant:e(a).activeChat.contact.avatar?void 0:"tonal",color:e(a).activeChat.contact.avatar?void 0:e(v)(e(a).activeChat.contact.status),class:"cursor-pointer"},{default:i(()=>[e(a).activeChat.contact.avatar?(d(),_(B,{key:0,src:e(a).activeChat.contact.avatar,alt:e(a).activeChat.contact.fullName},null,8,["src","alt"])):(d(),b("span",vt,C(("avatarText"in g?g.avatarText:e(E))(e(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",bt,[s("div",xt,C(e(a).activeChat.contact.fullName),1),s("p",gt,C(e(a).activeChat.contact.role),1)])]),t(de),s("div",Ct,[t(k,null,{default:i(()=>[t(f,{icon:"tabler-phone"})]),_:1}),t(k,null,{default:i(()=>[t(f,{icon:"tabler-video"})]),_:1}),t(k,null,{default:i(()=>[t(f,{icon:"tabler-search"})]),_:1}),t(k,null,{default:i(()=>[t(f,{icon:"tabler-dots-vertical"})]),_:1})])]),t(G),t(e(q),{ref_key:"chatLogPS",ref:o,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:i(()=>[t(Ze)]),_:1},512),t(ye,{class:"chat-log-message-form mb-5 mx-5",onSubmit:ue($,["prevent"])},{default:i(()=>[(d(),_(_e,{key:e(a).activeChat?.contact.id,modelValue:e(p),"onUpdate:modelValue":c[12]||(c[12]=x=>w(p)?p.value=x:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":i(()=>[s("div",yt,[t(k,null,{default:i(()=>[t(f,{icon:"tabler-microphone",size:"22"})]),_:1}),t(k,{onClick:c[11]||(c[11]=x=>e(J)?.click())},{default:i(()=>[t(f,{icon:"tabler-paperclip",size:"22"})]),_:1}),s("div",_t,[t(L,{"append-icon":"tabler-send",onClick:$},{default:i(()=>[...c[13]||(c[13]=[N(" Send ",-1)])]),_:1})]),t(k,{class:"d-block d-md-none",onClick:$},{default:i(()=>[t(f,{icon:"tabler-send"})]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:J,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]),_:1})])):(d(),b("div",$t,[t(T,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:i(()=>[t(f,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),g.$vuetify.display.smAndDown?(d(),_(L,{key:0,rounded:"pill",onClick:l},{default:i(()=>[...c[14]||(c[14]=[N(" Start Conversation ",-1)])]),_:1})):(d(),b("p",kt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{Wt as default};
