import{u as $,m as ee,a as te}from"./autofocus-DThxoTWr.js";import{V as le}from"./VCounter-D2PtsxdL.js";import{V as p,m as ae}from"./VField-CoXLbqml.js";import{au as ne,a1 as ue,cy as w,aM as oe,bU as se,Y as d,r as m,a6 as ie,bX as re,bY as R,b as x,p as V,bZ as ce,b_ as de,d as l,F as y,bR as fe,I as ve,cz as me,v as xe,b7 as b,cA as Ve}from"./main-BZyHWxP-.js";const ye=["color","file","time","date","datetime-local","week","month"],be=ue({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ee(),...de(),...ae()},"VTextField"),_e=ne()({name:"VTextField",directives:{vIntersect:w},inheritAttrs:!1,props:be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,N){let{attrs:f,emit:g,slots:n}=N;const u=oe(e,"modelValue"),{isFocused:o,focus:h,blur:B}=se(e),{onIntersect:D}=te(e),M=d(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),T=d(()=>{if(f.maxlength)return f.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),P=d(()=>["plain","underlined"].includes(e.variant)),C=m(),F=m(),s=m(),r=$(e),E=d(()=>ye.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function _(){r.isSuppressing.value&&r.update(),o.value||h(),b(()=>{s.value!==document.activeElement&&s.value?.focus()})}function z(t){g("mousedown:control",t),t.target!==s.value&&(_(),t.preventDefault())}function U(t){g("click:control",t)}function O(t,a){t.stopPropagation(),_(),b(()=>{a(),Ve(e["onClick:clear"],t)})}function Y(t){const a=t.target;if(u.value=a.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const c=[a.selectionStart,a.selectionEnd];b(()=>{a.selectionStart=c[0],a.selectionEnd=c[1]})}}return ie(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),a=!!(t||n.details),[c,j]=re(f),{modelValue:ge,...X}=R.filterProps(e),Z=p.filterProps(e);return x(R,V({ref:C,modelValue:u.value,"onUpdate:modelValue":i=>u.value=i,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":P.value},e.class],style:e.style},c,X,{centerAffix:!P.value,focused:o.value}),{...n,default:i=>{let{id:q,isDisabled:k,isDirty:A,isReadonly:G,isValid:H,hasDetails:J,reset:K}=i;return x(p,V({ref:F,onMousedown:z,onClick:U,"onClick:clear":v=>O(v,K),role:e.role},fe(Z,["onClick:clear"]),{id:q.value,active:E.value||A.value,dirty:A.value||e.dirty,disabled:k.value,focused:o.value,details:J.value,error:H.value===!1}),{...n,default:v=>{let{props:{class:I,...L},controlRef:Q}=v;const S=ve(l("input",V({ref:W=>s.value=Q.value=W,value:u.value,onInput:Y,autofocus:e.autofocus,readonly:G.value,disabled:k.value,name:r.fieldName.value,autocomplete:r.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:h,onBlur:B},L,j),null),[[w,{handler:D},null,{once:!0}]]);return l(y,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:xe(I),"data-no-activator":""},[n.default(),S]):me(S,{class:I}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:a?i=>l(y,null,[n.details?.(i),t&&l(y,null,[l("span",null,null),x(le,{active:e.persistentCounter||o.value,value:M.value,max:T.value,disabled:e.disabled},n.counter)])]):void 0})}),ce({},C,F,s)}});export{_e as V,be as m};
